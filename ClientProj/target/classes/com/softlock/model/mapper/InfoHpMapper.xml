<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.softlock.model.InfoHpImpl">

	<select id="getHpInfo" resultType="com.softlock.model.HospitalDTO" parameterType="String">
		select * from hospital where hp_idx=#{param1}
	</select>
	<select id="getHpTimeInfo" resultType="com.softlock.model.TreattimeDTO" parameterType="String">
			select * from treattime where treat_hp_idx=#{param1} and treat_dy=#{param2}
	</select>
	<select id="getHpReview" resultType="com.softlock.model.ReviewDTO" parameterType="String">
		select rvw_score, rvw_content, rvw_regidate, mem_name from member M, review R where M.mem_idx = R.rvw_mem_idx and RVW_HP_IDX=#{param1}
	</select>
	<select id="getRvwCount" parameterType="String" resultType="String">
		select count(*) from review where rvw_hp_idx=#{param1}
	</select>
	<select id="getRvwAvg" parameterType="String" resultType="String">
		select trunc(avg(rvw_score),2) from review where rvw_hp_idx=#{param1} group by rvw_hp_idx
	</select>
	<!-- <select id="getNumHospital" resultType="String">
		select count(*) from hospital
	</select>
	<select id="getNumReserv" resultType="String">
		select count(*) from reservation
	</select> -->
	
	
	
</mapper>
